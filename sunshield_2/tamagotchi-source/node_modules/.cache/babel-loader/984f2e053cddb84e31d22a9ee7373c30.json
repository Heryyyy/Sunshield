{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ashpool/Repositories/tamagotchi-virtual-pet/src/containers/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport disasterPet from \"../assets/character/disaster-pet.svg\";\nimport exercisePet from \"../assets/character/exercise-pet.svg\";\nimport foodPet from \"../assets/character/food-pet.svg\";\nimport mischiefPet from \"../assets/character/mischief-pet.svg\";\nimport sickPet from \"../assets/character/sick-pet.svg\";\nimport tricksPet from \"../assets/character/tricks-pet.svg\";\nimport welcomePet from \"../assets/character/welcome-pet.svg\";\nimport outsideKid from \"../assets/character/outside.svg\";\nimport sunburnKid from \"../assets/character/sunburnt.svg\";\nimport indoorsKid from \"../assets/character/inside.svg\";\nimport { useParams } from 'react-router-dom';\nimport { accurateInterval } from '../utils/helpers.js';\nimport Copyright from '../components/Copyright';\nimport Character from '../components/Character';\nimport LinearProgressWithLabel from '../components/LinearProgressWithLabel';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { StaticBanner } from 'material-ui-banner';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    margin: '2rem auto',\n    maxWidth: '50%',\n    width: '50%',\n    backgroundColor: 'f2f4f5'\n  },\n  avatarLarge: {\n    width: 72,\n    height: 72\n  },\n  buttonWrapper: {\n    position: 'relative' // display: 'inline-flex',\n    // alignItems: 'center',\n\n  },\n  button: {\n    position: 'relative',\n    overflow: 'hidden' // Ensure child elements don't overflow\n\n  },\n  circularProgress: {\n    position: 'absolute',\n    top: '30%',\n    left: '45%',\n    transform: 'translate(-50%, -50%)' // color: 'yell', // Optional: Change color if needed\n\n  },\n  uvProgress: {\n    position: 'relative',\n    display: 'inline-flex',\n    marginLeft: theme.spacing(1)\n  },\n  uvProgressLabel: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  }\n})); //Helper functions\n\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else if (response.status === 429) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\n\nfunction json(response) {\n  return response.json();\n}\n\nconst stayInRange = stat => {\n  if (stat >= 0 && stat <= 100) return stat;else if (stat > 100) return 100;else return 0;\n};\n\nconst getCharacter = eventType => {\n  let eventGraphic;\n\n  switch (eventType) {\n    case 'Natural Disaster':\n      eventGraphic = disasterPet;\n      break;\n\n    case 'Food':\n      eventGraphic = foodPet;\n      break;\n\n    case 'Mischief':\n      eventGraphic = mischiefPet;\n      break;\n\n    case 'Disease':\n      eventGraphic = sickPet;\n      break;\n\n    case 'Tricks':\n      eventGraphic = tricksPet;\n      break;\n\n    case 'Exercise':\n      eventGraphic = exercisePet;\n      break;\n\n    default:\n      eventGraphic = welcomePet;\n  }\n\n  return eventGraphic;\n};\n\nexport default function App() {\n  _s();\n\n  const [name, setName] = useState('Pippin');\n  const [dayDuration, setDayDuration] = useState(1000); //in miliseconds\n\n  const [age, setAge] = useState(0); // const [health, setHealth] = useState(100);\n  // const [hunger, setHunger] = useState(0);\n  // const [happiness, setHappiness] = useState(100);\n\n  const [sunburn, setSunburn] = useState(0);\n  const [boredom, setBoredom] = useState(0);\n  const [outdoor, setOutdoor] = useState(true);\n  const [sunscreen, setSunscreen] = useState(false);\n  const [money, setMoney] = useState(0);\n  const [hat, setHat] = useState(false);\n  const [uv, setUv] = useState(5);\n  const [sunscreenDuration, setSunscreenDuration] = useState(0);\n  const [gameEnd, setGameEnd] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const timeoutRef = useRef();\n  const eventTimeoutRef = useRef();\n  const classes = useStyles();\n  const {\n    petName,\n    dayDurationInSeconds\n  } = useParams();\n  const outdoorRef = useRef(outdoor);\n  const sunscreenRef = useRef(sunscreen);\n  const uvRef = useRef(uv);\n  const [uvChangeProgress, setUvChangeProgress] = useState(0);\n\n  const beginLife = () => {\n    let timeOutInfo = accurateInterval(() => {\n      petDay();\n    }, dayDuration);\n    timeoutRef.current = timeOutInfo; //console.log(timeoutRef.current)\n  }; //   const handleNextEvent = (nextEvent) => {\n  //   \t/*timeoutRef.current is null when starting a new game. \n  //   \tThis condition also keeps the app from fetching when the game has ended\n  //   \t*/\n  //   \tif (timeoutRef.current !== null) {\n  // \t  \tlet nextEventInfo = accurateInterval(() => {\n  // \t          getNextEvent();\n  // \t        }, nextEvent)\n  // \t    eventTimeoutRef.current = nextEventInfo;\n  //     \t//console.log(eventTimeoutRef.current);\n  //     }\n  //   }\n  //   const getNextEvent = () => {\n  // \t\tfetch('https://www.virtual-pet.uk/v1/event')\n  // \t\t\t.then(status)\n  // \t\t\t.then(json)\n  // \t\t\t.then(function(data) {\n  // \t\t\t    if(data.type === 'Error'){\n  // \t\t\t    \t console.log('Request failed', data);\n  // \t\t\t    \t if (eventTimeoutRef.current) {\n  // \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n  // \t\t\t\t\t\t    eventTimeoutRef.current = null;\n  // \t\t\t\t\t\t }\n  // \t\t\t    \t handleNextEvent(data.nextEvent * dayDuration);\n  // \t\t\t    } else {\n  // \t\t\t    \tconsole.log('Request succeeded with JSON response', data);\n  // \t\t\t\t    setHealth((prev) => stayInRange(prev + data.impact.health));\n  // \t\t\t\t\tsetHunger((prev) => stayInRange(prev + data.impact.hunger));\n  // \t\t\t\t\tsetHappiness((prev) => stayInRange(prev + data.impact.happiness));\n  // \t\t\t\t\thandleOpenBanner(data.type.toUpperCase() + \"! \" + data.title + \": \" + data.description + \" Impact, health: \" + data.impact.health + \" hunger: \" + data.impact.hunger + \" happiness: \" + data.impact.happiness, getCharacter(data.type));\n  // \t\t\t\t\tif (eventTimeoutRef.current) {\n  // \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n  // \t\t\t\t\t\t    eventTimeoutRef.current = null;\n  // \t\t\t\t\t\t }\n  // \t\t\t\t\thandleNextEvent(data.nextEvent * dayDuration); \n  // \t\t\t\t}\t\t\t    \t\n  // \t\t\t }).catch(function(error) {\n  // \t\t\t    console.log('Request failed', error);\n  // \t\t\t });\n  //   }\n\n\n  const petDay = () => {\n    setAge(prevAge => {\n      const newAge = prevAge + 1;\n      const daysUntilUvChange = (5 - newAge % 5) % 5;\n\n      if (daysUntilUvChange === 0) {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }\n\n      setUvChangeProgress((5 - daysUntilUvChange) / 5 * 100);\n      return newAge;\n    });\n\n    if (outdoorRef.current) {\n      if (sunscreenRef.current) {\n        setSunscreenDuration(prevDuration => {\n          if (prevDuration > 0) {\n            return prevDuration - 1;\n          } else {\n            setSunscreen(false);\n            return 0;\n          }\n        });\n        setSunburn(prevSunburn => stayInRange(prevSunburn + uvRef.current / 2));\n      } else {\n        setSunburn(prevSunburn => stayInRange(prevSunburn + uvRef.current));\n      }\n\n      setBoredom(prevBoredom => stayInRange(prevBoredom - 5));\n    } else {\n      setSunburn(prevSunburn => stayInRange(prevSunburn - 10));\n      setBoredom(prevBoredom => stayInRange(prevBoredom + 5));\n    }\n  }; //   const cleanPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHealth((prev) => stayInRange(prev + 1));\n  // \t}\n  // }\n  // const feedPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHunger((prev) => stayInRange(prev - 1));\n  // \t}\n  // }\n  // const playPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHappiness((prev) => stayInRange(prev + (Math.floor(Math.random() * 5) + 1))); // random reduction between 1 -> 5)\n  // \t}\n  // }\n\n\n  const goInside = () => {\n    if (!gameEnd) {\n      setOutdoor(false);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n    }\n  };\n\n  const goOutside = () => {\n    if (!gameEnd) {\n      setOutdoor(true);\n    }\n  };\n\n  const applySunscreen = () => {\n    if (!gameEnd) {\n      if (money >= 5) {\n        setMoney(prevMoney => prevMoney - 5);\n        setSunscreen(true);\n        setSunscreenDuration(5);\n      }\n    }\n  };\n\n  const doChores = () => {\n    if (!gameEnd) {\n      setMoney(prevMoney => prevMoney + 1);\n      setBoredom(prevBoredom => stayInRange(prevBoredom + 10));\n    }\n  };\n\n  const resetGame = () => {\n    setAge(0);\n    setSunburn(0);\n    setBoredom(0);\n    setSunscreen(false);\n    setGameEnd(false);\n    setMoney(0);\n  }; //helper functions\n\n\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n  };\n\n  const handleOpenBanner = useCallback((text, eventTypeGraphic) => StaticBanner.show({\n    icon: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 11\n    }, this),\n    iconProps: {\n      src: eventTypeGraphic,\n      className: classes.avatarLarge\n    },\n    open: true,\n    label: text\n  }), [classes.avatarLarge]);\n\n  const cleanup = () => {\n    //Cancel timers\n    if (timeoutRef.current) {\n      timeoutRef.current.cancel();\n    }\n\n    if (eventTimeoutRef.current) {\n      eventTimeoutRef.current.cancel();\n    }\n\n    timeoutRef.current = null;\n    eventTimeoutRef.current = null;\n  }; //Effects\n\n\n  useEffect(() => {\n    outdoorRef.current = outdoor;\n  }, [outdoor]);\n  useEffect(() => {\n    sunscreenRef.current = sunscreen;\n  }, [sunscreen]);\n  useEffect(() => {\n    uvRef.current = uv;\n  }, [uv]);\n  useEffect(() => {\n    if (sunburn == 100 || boredom == 100) {\n      setDialogOpen(true);\n      setGameEnd(true);\n    }\n  }, [sunburn, boredom]);\n  useEffect(() => {\n    if (!gameEnd) {\n      // Set pet name if provided\n      if (petName !== undefined) {\n        setName(decodeURIComponent(petName));\n      } // Set day duration\n\n\n      if (dayDurationInSeconds !== undefined && !Number.isNaN(parseInt(dayDurationInSeconds))) {\n        let inputedDuration = parseInt(dayDurationInSeconds);\n\n        if (inputedDuration <= 0) {\n          setDayDuration(1000);\n        } else if (inputedDuration > 60) {\n          setDayDuration(60 * 1000);\n        } else {\n          setDayDuration(inputedDuration * 1000);\n        }\n      } else {\n        setDayDuration(1000);\n      } // Initialize game state\n\n\n      setSunburn(0);\n      setBoredom(0);\n      setOutdoor(true);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n      setUv(5); // Starting UV index\n      // Start the game loop\n\n      beginLife(); // Schedule the first UV change\n\n      const uvChangeInterval = setInterval(() => {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }, 5 * dayDuration); // Cleanup function\n\n      return () => {\n        cleanup();\n        clearInterval(uvChangeInterval);\n      };\n    } else {\n      cleanup();\n    }\n  }, [gameEnd, petName, dayDurationInSeconds, dayDuration]);\n  const daysUntilUvChange = (5 - age % 5) % 5;\n\n  const getCharacterImage = () => {\n    if (outdoor) {\n      if (sunburn > 50) {\n        return sunburnKid;\n      }\n\n      return outsideKid;\n    }\n\n    return indoorsKid;\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StaticBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: \"main\",\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.paper,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            sm: 8,\n            md: 6,\n            container: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: true,\n              container: true,\n              direction: \"column\",\n              spacing: 2,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: true,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h2\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  children: [\"Age: \", age]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center'\n                  },\n                  children: [\"Today's UV Index: \", uv, /*#__PURE__*/_jsxDEV(Box, {\n                    position: \"relative\",\n                    display: \"inline-flex\",\n                    marginLeft: 1,\n                    children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                      variant: \"determinate\",\n                      value: uvChangeProgress,\n                      size: 24\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 8\n                    }, this), /*#__PURE__*/_jsxDEV(Box, {\n                      top: 0,\n                      left: 0,\n                      bottom: 0,\n                      right: 0,\n                      position: \"absolute\",\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      children: /*#__PURE__*/_jsxDEV(Typography, {\n                        variant: \"caption\",\n                        component: \"div\",\n                        color: \"textSecondary\",\n                        children: daysUntilUvChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 461,\n                        columnNumber: 8\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 8\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: [\"Coins: \", money]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: [\"You are currently \", outdoor ? \"outdoors\" : \"indoors\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: \"Sunburn:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(LinearProgressWithLabel, {\n                  value: sunburn\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: \"Boredom:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(LinearProgressWithLabel, {\n                  value: boredom\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                  color: \"primary\",\n                  variant: \"contained\",\n                  \"aria-label\": \"outlined primary button group\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    disabled: gameEnd,\n                    onClick: outdoor ? goInside : goOutside,\n                    children: outdoor ? 'Go Inside' : 'Play Outside'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 6\n                  }, this), outdoor && /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: `Spend 5 coins to reduce sunburn for 5 days`,\n                    arrow: true,\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        disabled: gameEnd || sunscreenDuration > 0 || money < 5,\n                        onClick: applySunscreen,\n                        className: classes.button,\n                        children: [\"Apply Sunscreen\", sunscreenDuration > 0 && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                          variant: \"static\",\n                          value: sunscreenDuration / 5 * 100,\n                          size: 24 // Adjust size to fit your button\n                          ,\n                          className: classes.circularProgress\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 496,\n                          columnNumber: 10\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 489,\n                        columnNumber: 9\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 8\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 7\n                  }, this), !outdoor && /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: gameEnd,\n                    onClick: doChores,\n                    children: \"Do Chores\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 508,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 18\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: resetGame,\n                  children: gameEnd ? \"Play again!\" : \"Reset Game\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 16\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 4,\n            sm: 4,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Character, {\n              name: name,\n              age: age,\n              image: getCharacterImage(),\n              sunburn: sunburn,\n              boredom: boredom,\n              outdoors: outdoor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 3\n    }, this), gameEnd && /*#__PURE__*/_jsxDEV(Dialog, {\n      open: dialogOpen,\n      onClose: handleDialogClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"Game Over.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: \"Great job! Let's play again!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDialogClose,\n          color: \"primary\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: resetGame,\n          color: \"primary\",\n          autoFocus: true,\n          children: \"Start Over!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 428,\n    columnNumber: 4\n  }, this);\n}\n\n_s(App, \"N8fGakTNov2cqWa97Z/dKMsJQ3c=\", false, function () {\n  return [useStyles, useParams];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/ashpool/Repositories/tamagotchi-virtual-pet/src/containers/App.js"],"names":["React","useState","useEffect","useRef","useCallback","useParams","accurateInterval","Copyright","Character","LinearProgressWithLabel","Button","ButtonGroup","CssBaseline","Paper","Grid","Typography","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","StaticBanner","makeStyles","CircularProgress","Box","Tooltip","useStyles","theme","root","flexGrow","alignItems","justifyContent","flexDirection","paper","padding","spacing","margin","maxWidth","width","backgroundColor","avatarLarge","height","buttonWrapper","position","button","overflow","circularProgress","top","left","transform","uvProgress","display","marginLeft","uvProgressLabel","status","response","Promise","resolve","reject","Error","statusText","json","stayInRange","stat","getCharacter","eventType","eventGraphic","disasterPet","foodPet","mischiefPet","sickPet","tricksPet","exercisePet","welcomePet","App","name","setName","dayDuration","setDayDuration","age","setAge","sunburn","setSunburn","boredom","setBoredom","outdoor","setOutdoor","sunscreen","setSunscreen","money","setMoney","hat","setHat","uv","setUv","sunscreenDuration","setSunscreenDuration","gameEnd","setGameEnd","dialogOpen","setDialogOpen","timeoutRef","eventTimeoutRef","classes","petName","dayDurationInSeconds","outdoorRef","sunscreenRef","uvRef","uvChangeProgress","setUvChangeProgress","beginLife","timeOutInfo","petDay","current","prevAge","newAge","daysUntilUvChange","Math","floor","random","prevDuration","prevSunburn","prevBoredom","goInside","goOutside","applySunscreen","prevMoney","doChores","resetGame","handleDialogClose","handleOpenBanner","text","eventTypeGraphic","show","icon","iconProps","src","className","open","label","cleanup","cancel","undefined","decodeURIComponent","Number","isNaN","parseInt","inputedDuration","uvChangeInterval","setInterval","clearInterval","getCharacterImage","sunburnKid","outsideKid","indoorsKid"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef, useCallback} from 'react';\nimport disasterPet from '../assets/character/disaster-pet.svg';\nimport exercisePet from '../assets/character/exercise-pet.svg';\nimport foodPet from '../assets/character/food-pet.svg';\nimport mischiefPet from '../assets/character/mischief-pet.svg';\nimport sickPet from '../assets/character/sick-pet.svg';\nimport tricksPet from '../assets/character/tricks-pet.svg';\nimport welcomePet from '../assets/character/welcome-pet.svg';\nimport outsideKid from '../assets/character/outside.svg';\nimport sunburnKid from '../assets/character/sunburnt.svg';\nimport indoorsKid from '../assets/character/inside.svg';\nimport {useParams} from 'react-router-dom';\nimport {accurateInterval} from '../utils/helpers.js';\nimport Copyright from '../components/Copyright';\nimport Character from '../components/Character';\nimport LinearProgressWithLabel from '../components/LinearProgressWithLabel';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { StaticBanner } from 'material-ui-banner';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst useStyles = makeStyles((theme) => ({\n root: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n  paper: {\n    padding: theme.spacing(2),\n    margin: '2rem auto',\n    maxWidth: '50%',\n\twidth: '50%',\n\tbackgroundColor: 'f2f4f5',\n  },\n  avatarLarge: {\n  \twidth: 72,\n    height: 72,\n  },\n  buttonWrapper: {\n    position: 'relative',\n    // display: 'inline-flex',\n    // alignItems: 'center',\n  },\n  button: {\n    position: 'relative',\n    overflow: 'hidden', // Ensure child elements don't overflow\n  },\n  circularProgress: {\n    position: 'absolute',\n    top: '30%',\n    left: '45%',\n    transform: 'translate(-50%, -50%)',\n    // color: 'yell', // Optional: Change color if needed\n  },\n  uvProgress: {\n    position: 'relative',\n    display: 'inline-flex',\n    marginLeft: theme.spacing(1),\n  },\n  uvProgressLabel: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n}));\n\n//Helper functions\n \n function status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response)\n  } else if (response.status === 429){\n    return Promise.resolve(response)\n  }else {\n    return Promise.reject(new Error(response.statusText))\n  }\n }\n\n function json(response) {\n  return response.json()\n }\n\n const stayInRange = (stat) => {\n  \tif (stat >= 0 && stat <= 100)\n\t    return stat;\n\t else if (stat > 100)\n\t    return 100;\n\telse\n\t    return 0;\n  }\n\nconst getCharacter = (eventType) => {\n  \n  let eventGraphic;\n\n  switch(eventType) {\n\tcase 'Natural Disaster':\n\t\teventGraphic = disasterPet;\n\t\tbreak;\n\tcase 'Food':\n\t\teventGraphic = foodPet;\n\t\tbreak;\n\tcase 'Mischief':\n\t\teventGraphic = mischiefPet;\n\t\tbreak;\n\tcase 'Disease':\n\t\teventGraphic = sickPet;\n\t\tbreak;\n\tcase 'Tricks':\n\t\teventGraphic = tricksPet;\n\t\tbreak;\n\tcase 'Exercise':\n\t\teventGraphic = exercisePet;\n\t\tbreak;\n\tdefault:\n\t\teventGraphic = welcomePet;\n\t}\n\n\treturn eventGraphic;\n}\n\n\nexport default function App() {\n\nconst [name, setName] = useState('Pippin');\nconst [dayDuration, setDayDuration] = useState(1000); //in miliseconds\nconst [age, setAge] = useState(0);\n\n\n\n// const [health, setHealth] = useState(100);\n// const [hunger, setHunger] = useState(0);\n// const [happiness, setHappiness] = useState(100);\n\nconst [sunburn, setSunburn] = useState(0);\nconst [boredom, setBoredom] = useState(0);\nconst [outdoor, setOutdoor] = useState(true);\nconst [sunscreen, setSunscreen] = useState(false);\nconst [money, setMoney] = useState(0);\nconst [hat, setHat] = useState(false);\nconst [uv, setUv] = useState(5);\nconst [sunscreenDuration, setSunscreenDuration] = useState(0);\n\nconst [gameEnd, setGameEnd] = useState(false);\nconst [dialogOpen, setDialogOpen] = useState(false);\nconst timeoutRef = useRef();\nconst eventTimeoutRef = useRef();\nconst classes = useStyles();\nconst {petName, dayDurationInSeconds} = useParams();\n\nconst outdoorRef = useRef(outdoor);\nconst sunscreenRef = useRef(sunscreen);\nconst uvRef = useRef(uv);\nconst [uvChangeProgress, setUvChangeProgress] = useState(0);\n\n\n\n\n const beginLife = () => {\n    let timeOutInfo = accurateInterval(() => {\n          petDay();\n        }, dayDuration) \n    timeoutRef.current = timeOutInfo;\n    //console.log(timeoutRef.current)\n }\n\n//   const handleNextEvent = (nextEvent) => {\n//   \t/*timeoutRef.current is null when starting a new game. \n//   \tThis condition also keeps the app from fetching when the game has ended\n//   \t*/\n//   \tif (timeoutRef.current !== null) {\n// \t  \tlet nextEventInfo = accurateInterval(() => {\n// \t          getNextEvent();\n// \t        }, nextEvent)\n// \t    eventTimeoutRef.current = nextEventInfo;\n//     \t//console.log(eventTimeoutRef.current);\n//     }\n//   }\n\n//   const getNextEvent = () => {\n  \t\n// \t\tfetch('https://www.virtual-pet.uk/v1/event')\n// \t\t\t.then(status)\n// \t\t\t.then(json)\n// \t\t\t.then(function(data) {\n// \t\t\t    if(data.type === 'Error'){\n// \t\t\t    \t console.log('Request failed', data);\n// \t\t\t    \t if (eventTimeoutRef.current) {\n// \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n// \t\t\t\t\t\t    eventTimeoutRef.current = null;\n// \t\t\t\t\t\t }\n// \t\t\t    \t handleNextEvent(data.nextEvent * dayDuration);\n// \t\t\t    } else {\n// \t\t\t    \tconsole.log('Request succeeded with JSON response', data);\n// \t\t\t\t    setHealth((prev) => stayInRange(prev + data.impact.health));\n// \t\t\t\t\tsetHunger((prev) => stayInRange(prev + data.impact.hunger));\n// \t\t\t\t\tsetHappiness((prev) => stayInRange(prev + data.impact.happiness));\n// \t\t\t\t\thandleOpenBanner(data.type.toUpperCase() + \"! \" + data.title + \": \" + data.description + \" Impact, health: \" + data.impact.health + \" hunger: \" + data.impact.hunger + \" happiness: \" + data.impact.happiness, getCharacter(data.type));\n// \t\t\t\t\tif (eventTimeoutRef.current) {\n// \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n// \t\t\t\t\t\t    eventTimeoutRef.current = null;\n// \t\t\t\t\t\t }\n// \t\t\t\t\thandleNextEvent(data.nextEvent * dayDuration); \n// \t\t\t\t}\t\t\t    \t\n\n// \t\t\t }).catch(function(error) {\n// \t\t\t    console.log('Request failed', error);\n// \t\t\t });\n\t\t  \t\n//   }\n\n const petDay = () => {\n\tsetAge((prevAge) => {\n\t  const newAge = prevAge + 1;\n\t  const daysUntilUvChange = (5 - (newAge % 5)) % 5;\n\t  if (daysUntilUvChange === 0) {\n\t\tsetUv(Math.floor(Math.random() * 14) + 1);\n\t  }\n\t  setUvChangeProgress(((5 - daysUntilUvChange) / 5) * 100);\n\t  return newAge;\n\t});\n  \n\tif (outdoorRef.current) {\n\t  if (sunscreenRef.current) {\n\t\tsetSunscreenDuration((prevDuration) => {\n\t\t  if (prevDuration > 0) {\n\t\t\treturn prevDuration - 1;\n\t\t  } else {\n\t\t\tsetSunscreen(false);\n\t\t\treturn 0;\n\t\t  }\n\t\t});\n\t\tsetSunburn((prevSunburn) => stayInRange(prevSunburn + (uvRef.current / 2)));\n\t  } else {\n\t\tsetSunburn((prevSunburn) => stayInRange(prevSunburn + uvRef.current));\n\t  }\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom - 5));\n\t} else {\n\t  setSunburn((prevSunburn) => stayInRange(prevSunburn - 10));\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom + 5));\n\t}\n  };\n\n//   const cleanPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHealth((prev) => stayInRange(prev + 1));\n// \t}\n// }\n\n// const feedPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHunger((prev) => stayInRange(prev - 1));\n// \t}\n// }\n\n// const playPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHappiness((prev) => stayInRange(prev + (Math.floor(Math.random() * 5) + 1))); // random reduction between 1 -> 5)\n// \t}\n// }\n\n  const goInside = () => {\n\tif (!gameEnd) {\n\t\tsetOutdoor(false);\n\t\tsetSunscreen(false);\n\t\tsetSunscreenDuration(0);\n\t}\n  }\n\n  const goOutside = () => {\n\tif (!gameEnd) {\n\t\tsetOutdoor(true);\n\t}\n  }\n\n  const applySunscreen = () => {\n\tif (!gameEnd) {\n\t\tif (money >= 5) {\n\t\t\tsetMoney((prevMoney) => prevMoney - 5);\n\t\t\tsetSunscreen(true);\n\t\t\tsetSunscreenDuration(5);\n\n\t}\n  }}\n\n  const doChores = () => {\n\tif (!gameEnd) {\n\t  setMoney((prevMoney) => prevMoney + 1);\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom + 10));\n\t}\n  };\n\n\n  const resetGame = () => {  \t  \t\n  \tsetAge(0);\n\tsetSunburn(0);\n\tsetBoredom(0);\n\tsetSunscreen(false);\n\tsetGameEnd(false);\n\tsetMoney(0);\n  }\n\n  //helper functions\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n  };\n\n  const handleOpenBanner = useCallback((text, eventTypeGraphic) => StaticBanner.show({\n  \t\ticon: <div />,\n  \t\ticonProps : {\n  \t\t\tsrc: eventTypeGraphic,\n  \t\t\tclassName:  classes.avatarLarge\n  \t\t},\n\t    open:  true,\n\t    label: text,\n   }), [classes.avatarLarge]);\n\n  const cleanup = () => {\n     //Cancel timers\n\t\tif (timeoutRef.current) {\n\t      timeoutRef.current.cancel();\n\t      \n\t    }\n\t    if (eventTimeoutRef.current) {\n\t\t  eventTimeoutRef.current.cancel();\n\t\t}\n\n\t\ttimeoutRef.current = null;\n\t\teventTimeoutRef.current = null;\n   }\n  \n  //Effects\n\n\n  useEffect(() => {\n\toutdoorRef.current = outdoor;\n  }, [outdoor]);\n  \n  useEffect(() => {\n\tsunscreenRef.current = sunscreen;\n  }, [sunscreen]);\n  \n  useEffect(() => {\n\tuvRef.current = uv;\n  }, [uv]);\n\n  useEffect(() => {\n   if (sunburn == 100 || boredom == 100) {   \t \n   \t setDialogOpen(true);\n\t setGameEnd(true);\n   }\n  }, [sunburn, boredom]);\n\n  useEffect(() => {\n    if (!gameEnd) {\n      // Set pet name if provided\n      if (petName !== undefined) {\n        setName(decodeURIComponent(petName));\n      }\n\n      // Set day duration\n      if (dayDurationInSeconds !== undefined && !Number.isNaN(parseInt(dayDurationInSeconds))) {\n        let inputedDuration = parseInt(dayDurationInSeconds);\n        if (inputedDuration <= 0) {\n          setDayDuration(1000);\n        } else if (inputedDuration > 60) {\n          setDayDuration(60 * 1000);\n        } else {\n          setDayDuration(inputedDuration * 1000);\n        }\n      } else {\n        setDayDuration(1000);\n      }\n\n      // Initialize game state\n      setSunburn(0);\n      setBoredom(0);\n      setOutdoor(true);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n      setUv(5); // Starting UV index\n\n      // Start the game loop\n      beginLife();\n\n      // Schedule the first UV change\n      const uvChangeInterval = setInterval(() => {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }, 5 * dayDuration);\n\n      // Cleanup function\n      return () => {\n        cleanup();\n        clearInterval(uvChangeInterval);\n      };\n    } else {\n      cleanup();\n    }\n  }, [gameEnd, petName, dayDurationInSeconds, dayDuration]);\n\n  const daysUntilUvChange = (5 - (age % 5)) % 5;\n\n  const getCharacterImage = () => {\n    if (outdoor) {\n      if (sunburn > 50) {\n        return sunburnKid;\n      }\n      return outsideKid;\n    }\n    return indoorsKid;\n  };\n\n  return (\n  \t<React.Fragment>\n  \t   <CssBaseline />\n  \t   <StaticBanner />\n\t\t<Grid container component=\"main\" className={classes.root}>\n\t      <Paper className={classes.paper}>\n\t        <Grid container spacing={2}>\n\t          <Grid item xs={8} sm={8} md={6} container>\n\t            <Grid item xs container direction=\"column\" spacing={2}>\n\t              <Grid item xs>\n\t                <Typography variant=\"h2\">\n\t                  {name}\n\t                </Typography>\n\t                <Typography variant=\"h6\">\n\t                  Age: {age}\n\t                </Typography>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"body1\"\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tstyle={{ display: 'flex', alignItems: 'center' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\tToday's UV Index: {uv}\n\t\t\t\t\t\t<Box position=\"relative\" display=\"inline-flex\" marginLeft={1}>\n\t\t\t\t\t\t\t<CircularProgress variant=\"determinate\" value={uvChangeProgress} size={24} />\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\ttop={0}\n\t\t\t\t\t\t\tleft={0}\n\t\t\t\t\t\t\tbottom={0}\n\t\t\t\t\t\t\tright={0}\n\t\t\t\t\t\t\tposition=\"absolute\"\n\t\t\t\t\t\t\tdisplay=\"flex\"\n\t\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\t\tjustifyContent=\"center\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n\t\t\t\t\t\t\t\t{daysUntilUvChange}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tCoins: {money} \n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\tYou are currently {outdoor ? \"outdoors\" : \"indoors\"}\n\t\t\t\t\t</Typography>\n\t                 <Typography variant=\"body1\">\n\t                  Sunburn: \n\t                </Typography>\n\t                <LinearProgressWithLabel value={sunburn} />\n\t                <Typography variant=\"body1\">\n\t                  Boredom:  \n\t                </Typography>\n\t                <LinearProgressWithLabel value={boredom} />\n\t                \n\t                <ButtonGroup color=\"primary\" variant=\"contained\" aria-label=\"outlined primary button group\">\n\t\t\t\t\t<Button disabled={gameEnd} onClick={outdoor ? goInside : goOutside}>\n\t\t\t\t\t\t{outdoor ? 'Go Inside' : 'Play Outside'}\n\t\t\t\t\t</Button>\n\t\t\t\t\t{outdoor && (\n\t\t\t\t\t\t<Tooltip title={`Spend 5 coins to reduce sunburn for 5 days`} arrow>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={gameEnd || sunscreenDuration > 0 || money < 5}\n\t\t\t\t\t\t\t\t\tonClick={applySunscreen}\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tApply Sunscreen\n\t\t\t\t\t\t\t\t\t{sunscreenDuration > 0 && (\n\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\tvariant=\"static\"\n\t\t\t\t\t\t\t\t\t\tvalue={(sunscreenDuration / 5) * 100}\n\t\t\t\t\t\t\t\t\t\tsize={24} // Adjust size to fit your button\n\t\t\t\t\t\t\t\t\t\tclassName={classes.circularProgress}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t\t{!outdoor && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={gameEnd}\n\t\t\t\t\t\t\tonClick={doChores}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDo Chores \n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t</ButtonGroup>\n\n\t\t\t  \t\t<Button onClick={resetGame}>{gameEnd? \"Play again!\" : \"Reset Game\"}</Button>\n\t              </Grid>\n\t            </Grid>\n\t          </Grid>\n\t          <Grid item xs={4} sm={4} md={6}>\n\t              <Character \n\t                name={name} \n\t                age={age} \n\t                image={getCharacterImage()} \n\t                sunburn={sunburn}\n\t                boredom={boredom}\n\t\t\t\t\toutdoors={outdoor}\n\t              />\n\t          </Grid>    \n\t        </Grid>\n\t      </Paper>\n\t\t  <Copyright />\n    \t</Grid>\n    \t{gameEnd && \n    \t\t <Dialog\n\t\t        open={dialogOpen}\n\t\t        onClose={handleDialogClose}\n\t\t        aria-labelledby=\"alert-dialog-title\"\n\t\t        aria-describedby=\"alert-dialog-description\"\n\t\t      >\n\t\t        <DialogTitle id=\"alert-dialog-title\">Game Over.</DialogTitle>\n\t\t        <DialogContent>\n\t\t          <DialogContentText id=\"alert-dialog-description\">\n\t\t           Great job! Let's play again!\n\t\t          </DialogContentText>\n\t\t        </DialogContent>\n\t\t        <DialogActions>\n\t\t          <Button onClick={handleDialogClose} color=\"primary\">\n\t\t            Close\n\t\t          </Button>\n\t\t          <Button onClick={resetGame} color=\"primary\" autoFocus>\n\t\t            Start Over!\n\t\t          </Button>\n\t\t        </DialogActions>\n      \t\t</Dialog>\n    \t}\n    </React.Fragment>\n  )\n}"]},"metadata":{},"sourceType":"module"}