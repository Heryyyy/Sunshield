{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/ashpool/Repositories/tamagotchi-virtual-pet/src/containers/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport disasterPet from \"../assets/character/disaster-pet.svg\";\nimport exercisePet from \"../assets/character/exercise-pet.svg\";\nimport foodPet from \"../assets/character/food-pet.svg\";\nimport mischiefPet from \"../assets/character/mischief-pet.svg\";\nimport sickPet from \"../assets/character/sick-pet.svg\";\nimport tricksPet from \"../assets/character/tricks-pet.svg\";\nimport welcomePet from \"../assets/character/welcome-pet.svg\";\nimport outsideKid from \"../assets/character/outside.svg\";\nimport sunburnKid from \"../assets/character/sunburnt.svg\";\nimport indoorsKid from \"../assets/character/inside.svg\";\nimport { useParams } from 'react-router-dom';\nimport { accurateInterval } from '../utils/helpers.js';\nimport Copyright from '../components/Copyright';\nimport Character from '../components/Character';\nimport LinearProgressWithLabel from '../components/LinearProgressWithLabel';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { StaticBanner } from 'material-ui-banner';\nimport { makeStyles, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#FF9800' // Orange\n\n    },\n    secondary: {\n      main: '#009688' // Teal\n\n    }\n  }\n});\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    backgroundColor: '#ff9800',\n    minHeight: '100vh'\n  },\n  paper: {\n    padding: theme.spacing(3),\n    margin: '2rem auto',\n    maxWidth: '800px',\n    width: '90%',\n    backgroundColor: '#f2f4f5',\n    // Updated this line\n    borderRadius: '12px',\n    boxShadow: '0 3px 10px rgba(0,0,0,0.1)'\n  },\n  avatarLarge: {\n    width: 72,\n    height: 72\n  },\n  buttonWrapper: {\n    position: 'relative' // display: 'inline-flex',\n    // alignItems: 'center',\n\n  },\n  button: {\n    position: 'relative',\n    overflow: 'hidden' // Ensure child elements don't overflow\n\n  },\n  circularProgress: {\n    position: 'absolute',\n    top: '30%',\n    left: '45%',\n    transform: 'translate(-50%, -50%)' // color: 'yell', // Optional: Change color if needed\n\n  },\n  uvProgress: {\n    position: 'relative',\n    display: 'inline-flex',\n    marginLeft: theme.spacing(1)\n  },\n  uvProgressLabel: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  },\n  buttonGroup: {\n    marginTop: theme.spacing(2)\n  },\n  button: {\n    margin: theme.spacing(1)\n  },\n  characterContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%'\n  },\n  statLabel: {\n    fontWeight: 'bold',\n    marginRight: theme.spacing(1)\n  },\n  uvIndex: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(1)\n  },\n  uvValue: {\n    fontWeight: 'bold',\n    marginLeft: theme.spacing(1)\n  }\n})); //Helper functions\n\nfunction status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response);\n  } else if (response.status === 429) {\n    return Promise.resolve(response);\n  } else {\n    return Promise.reject(new Error(response.statusText));\n  }\n}\n\nfunction json(response) {\n  return response.json();\n}\n\nconst stayInRange = stat => {\n  if (stat >= 0 && stat <= 100) return stat;else if (stat > 100) return 100;else return 0;\n};\n\nconst getCharacter = eventType => {\n  let eventGraphic;\n\n  switch (eventType) {\n    case 'Natural Disaster':\n      eventGraphic = disasterPet;\n      break;\n\n    case 'Food':\n      eventGraphic = foodPet;\n      break;\n\n    case 'Mischief':\n      eventGraphic = mischiefPet;\n      break;\n\n    case 'Disease':\n      eventGraphic = sickPet;\n      break;\n\n    case 'Tricks':\n      eventGraphic = tricksPet;\n      break;\n\n    case 'Exercise':\n      eventGraphic = exercisePet;\n      break;\n\n    default:\n      eventGraphic = welcomePet;\n  }\n\n  return eventGraphic;\n};\n\nexport default function App() {\n  _s();\n\n  const [name, setName] = useState('Pippin');\n  const [dayDuration, setDayDuration] = useState(1000); //in miliseconds\n\n  const [age, setAge] = useState(0); // const [health, setHealth] = useState(100);\n  // const [hunger, setHunger] = useState(0);\n  // const [happiness, setHappiness] = useState(100);\n\n  const [sunburn, setSunburn] = useState(0);\n  const [boredom, setBoredom] = useState(0);\n  const [outdoor, setOutdoor] = useState(true);\n  const [sunscreen, setSunscreen] = useState(false);\n  const [money, setMoney] = useState(0);\n  const [hat, setHat] = useState(false);\n  const [uv, setUv] = useState(5);\n  const [sunscreenDuration, setSunscreenDuration] = useState(0);\n  const [gameEnd, setGameEnd] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const timeoutRef = useRef();\n  const eventTimeoutRef = useRef();\n  const classes = useStyles();\n  const {\n    petName,\n    dayDurationInSeconds\n  } = useParams();\n  const outdoorRef = useRef(outdoor);\n  const sunscreenRef = useRef(sunscreen);\n  const uvRef = useRef(uv);\n  const [uvChangeProgress, setUvChangeProgress] = useState(0);\n\n  const beginLife = () => {\n    let timeOutInfo = accurateInterval(() => {\n      petDay();\n    }, dayDuration);\n    timeoutRef.current = timeOutInfo; //console.log(timeoutRef.current)\n  }; //   const handleNextEvent = (nextEvent) => {\n  //   \t/*timeoutRef.current is null when starting a new game. \n  //   \tThis condition also keeps the app from fetching when the game has ended\n  //   \t*/\n  //   \tif (timeoutRef.current !== null) {\n  // \t  \tlet nextEventInfo = accurateInterval(() => {\n  // \t          getNextEvent();\n  // \t        }, nextEvent)\n  // \t    eventTimeoutRef.current = nextEventInfo;\n  //     \t//console.log(eventTimeoutRef.current);\n  //     }\n  //   }\n  //   const getNextEvent = () => {\n  // \t\tfetch('https://www.virtual-pet.uk/v1/event')\n  // \t\t\t.then(status)\n  // \t\t\t.then(json)\n  // \t\t\t.then(function(data) {\n  // \t\t\t    if(data.type === 'Error'){\n  // \t\t\t    \t console.log('Request failed', data);\n  // \t\t\t    \t if (eventTimeoutRef.current) {\n  // \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n  // \t\t\t\t\t\t    eventTimeoutRef.current = null;\n  // \t\t\t\t\t\t }\n  // \t\t\t    \t handleNextEvent(data.nextEvent * dayDuration);\n  // \t\t\t    } else {\n  // \t\t\t    \tconsole.log('Request succeeded with JSON response', data);\n  // \t\t\t\t    setHealth((prev) => stayInRange(prev + data.impact.health));\n  // \t\t\t\t\tsetHunger((prev) => stayInRange(prev + data.impact.hunger));\n  // \t\t\t\t\tsetHappiness((prev) => stayInRange(prev + data.impact.happiness));\n  // \t\t\t\t\thandleOpenBanner(data.type.toUpperCase() + \"! \" + data.title + \": \" + data.description + \" Impact, health: \" + data.impact.health + \" hunger: \" + data.impact.hunger + \" happiness: \" + data.impact.happiness, getCharacter(data.type));\n  // \t\t\t\t\tif (eventTimeoutRef.current) {\n  // \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n  // \t\t\t\t\t\t    eventTimeoutRef.current = null;\n  // \t\t\t\t\t\t }\n  // \t\t\t\t\thandleNextEvent(data.nextEvent * dayDuration); \n  // \t\t\t\t}\t\t\t    \t\n  // \t\t\t }).catch(function(error) {\n  // \t\t\t    console.log('Request failed', error);\n  // \t\t\t });\n  //   }\n\n\n  const petDay = () => {\n    setAge(prevAge => {\n      const newAge = prevAge + 1;\n      const daysUntilUvChange = (5 - newAge % 5) % 5;\n\n      if (daysUntilUvChange === 0) {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }\n\n      setUvChangeProgress((5 - daysUntilUvChange) / 5 * 100);\n      return newAge;\n    });\n\n    if (outdoorRef.current) {\n      if (sunscreenRef.current) {\n        setSunscreenDuration(prevDuration => {\n          if (prevDuration > 0) {\n            return prevDuration - 1;\n          } else {\n            setSunscreen(false);\n            return 0;\n          }\n        });\n        setSunburn(prevSunburn => stayInRange(prevSunburn + uvRef.current / 2));\n      } else {\n        setSunburn(prevSunburn => stayInRange(prevSunburn + uvRef.current));\n      }\n\n      setBoredom(prevBoredom => stayInRange(prevBoredom - 5));\n    } else {\n      setSunburn(prevSunburn => stayInRange(prevSunburn - 10));\n      setBoredom(prevBoredom => stayInRange(prevBoredom + 5));\n    }\n  }; //   const cleanPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHealth((prev) => stayInRange(prev + 1));\n  // \t}\n  // }\n  // const feedPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHunger((prev) => stayInRange(prev - 1));\n  // \t}\n  // }\n  // const playPet = () => {\n  // \tif (!gameEnd) {\n  // \t\tsetHappiness((prev) => stayInRange(prev + (Math.floor(Math.random() * 5) + 1))); // random reduction between 1 -> 5)\n  // \t}\n  // }\n\n\n  const goInside = () => {\n    if (!gameEnd) {\n      setOutdoor(false);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n    }\n  };\n\n  const goOutside = () => {\n    if (!gameEnd) {\n      setOutdoor(true);\n    }\n  };\n\n  const applySunscreen = () => {\n    if (!gameEnd) {\n      if (money >= 5) {\n        setMoney(prevMoney => prevMoney - 5);\n        setSunscreen(true);\n        setSunscreenDuration(5);\n      }\n    }\n  };\n\n  const doChores = () => {\n    if (!gameEnd) {\n      setMoney(prevMoney => prevMoney + 1);\n      setBoredom(prevBoredom => stayInRange(prevBoredom + 10));\n    }\n  };\n\n  const resetGame = () => {\n    setAge(0);\n    setSunburn(0);\n    setBoredom(0);\n    setSunscreen(false);\n    setGameEnd(false);\n    setMoney(0);\n  }; //helper functions\n\n\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n  };\n\n  const handleOpenBanner = useCallback((text, eventTypeGraphic) => StaticBanner.show({\n    icon: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 11\n    }, this),\n    iconProps: {\n      src: eventTypeGraphic,\n      className: classes.avatarLarge\n    },\n    open: true,\n    label: text\n  }), [classes.avatarLarge]);\n\n  const cleanup = () => {\n    //Cancel timers\n    if (timeoutRef.current) {\n      timeoutRef.current.cancel();\n    }\n\n    if (eventTimeoutRef.current) {\n      eventTimeoutRef.current.cancel();\n    }\n\n    timeoutRef.current = null;\n    eventTimeoutRef.current = null;\n  }; //Effects\n\n\n  useEffect(() => {\n    outdoorRef.current = outdoor;\n  }, [outdoor]);\n  useEffect(() => {\n    sunscreenRef.current = sunscreen;\n  }, [sunscreen]);\n  useEffect(() => {\n    uvRef.current = uv;\n  }, [uv]);\n  useEffect(() => {\n    if (sunburn == 100 || boredom == 100) {\n      setDialogOpen(true);\n      setGameEnd(true);\n    }\n  }, [sunburn, boredom]);\n  useEffect(() => {\n    if (!gameEnd) {\n      // Set pet name if provided\n      if (petName !== undefined) {\n        setName(decodeURIComponent(petName));\n      } // Set day duration\n\n\n      if (dayDurationInSeconds !== undefined && !Number.isNaN(parseInt(dayDurationInSeconds))) {\n        let inputedDuration = parseInt(dayDurationInSeconds);\n\n        if (inputedDuration <= 0) {\n          setDayDuration(1000);\n        } else if (inputedDuration > 60) {\n          setDayDuration(60 * 1000);\n        } else {\n          setDayDuration(inputedDuration * 1000);\n        }\n      } else {\n        setDayDuration(1000);\n      } // Initialize game state\n\n\n      setSunburn(0);\n      setBoredom(0);\n      setOutdoor(true);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n      setUv(5); // Starting UV index\n      // Start the game loop\n\n      beginLife(); // Schedule the first UV change\n\n      const uvChangeInterval = setInterval(() => {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }, 5 * dayDuration); // Cleanup function\n\n      return () => {\n        cleanup();\n        clearInterval(uvChangeInterval);\n      };\n    } else {\n      cleanup();\n    }\n  }, [gameEnd, petName, dayDurationInSeconds, dayDuration]);\n  const daysUntilUvChange = (5 - age % 5) % 5;\n\n  const getCharacterImage = () => {\n    if (outdoor) {\n      if (sunburn > 50) {\n        return sunburnKid;\n      }\n\n      return outsideKid;\n    }\n\n    return indoorsKid;\n  };\n\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StaticBanner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        component: \"main\",\n        className: classes.root,\n        children: [/*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h3\",\n                gutterBottom: true,\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                gutterBottom: true,\n                children: [\"Age: \", age]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.uvIndex,\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  children: \"Today's UV Index:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  className: classes.uvValue,\n                  style: {\n                    color: uv > 10 ? 'red' : uv > 5 ? 'orange' : 'green'\n                  },\n                  children: uv\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  position: \"relative\",\n                  display: \"inline-flex\",\n                  marginLeft: 1,\n                  children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n                    variant: \"determinate\",\n                    value: uvChangeProgress,\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Box, {\n                    top: 0,\n                    left: 0,\n                    bottom: 0,\n                    right: 0,\n                    position: \"absolute\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"caption\",\n                      component: \"div\",\n                      color: \"textSecondary\",\n                      children: daysUntilUvChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                gutterBottom: true,\n                children: [\"Coins: \", money]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                gutterBottom: true,\n                children: [\"You are currently \", outdoor ? \"outdoors\" : \"indoors\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                className: classes.statLabel,\n                children: \"Sunburn:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LinearProgressWithLabel, {\n                value: sunburn\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                className: classes.statLabel,\n                children: \"Boredom:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LinearProgressWithLabel, {\n                value: boredom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                color: \"primary\",\n                variant: \"contained\",\n                className: classes.buttonGroup,\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  disabled: gameEnd,\n                  onClick: outdoor ? goInside : goOutside,\n                  className: classes.button,\n                  children: outdoor ? 'Go Inside' : 'Play Outside'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 19\n                }, this), outdoor && /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: `Spend 5 coins to reduce sunburn for 5 days`,\n                  arrow: true,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      disabled: gameEnd || sunscreenDuration > 0 || money < 5,\n                      onClick: applySunscreen,\n                      className: classes.button,\n                      children: [\"Apply Sunscreen\", sunscreenDuration > 0 && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                        variant: \"static\",\n                        value: sunscreenDuration / 5 * 100,\n                        size: 24,\n                        className: classes.circularProgress\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 543,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 21\n                }, this), !outdoor && /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: gameEnd,\n                  onClick: doChores,\n                  className: classes.button,\n                  children: \"Do Chores\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: resetGame,\n                variant: \"outlined\",\n                color: \"secondary\",\n                className: classes.button,\n                children: gameEnd ? \"Play again!\" : \"Reset Game\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes.characterContainer,\n                children: /*#__PURE__*/_jsxDEV(Character, {\n                  name: name,\n                  age: age,\n                  image: getCharacterImage(),\n                  sunburn: sunburn,\n                  boredom: boredom,\n                  outdoors: outdoor,\n                  sunscreen: sunscreen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 573,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 9\n      }, this), gameEnd && /*#__PURE__*/_jsxDEV(Dialog, {\n        open: dialogOpen,\n        onClose: handleDialogClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          id: \"alert-dialog-title\",\n          children: \"Game Over.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n            id: \"alert-dialog-description\",\n            children: \"Great job! Let's play again!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 599,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDialogClose,\n            color: \"primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: resetGame,\n            color: \"primary\",\n            autoFocus: true,\n            children: \"Start Over!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 469,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"N8fGakTNov2cqWa97Z/dKMsJQ3c=\", false, function () {\n  return [useStyles, useParams];\n});\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/ashpool/Repositories/tamagotchi-virtual-pet/src/containers/App.js"],"names":["React","useState","useEffect","useRef","useCallback","useParams","accurateInterval","Copyright","Character","LinearProgressWithLabel","Button","ButtonGroup","CssBaseline","Paper","Grid","Typography","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","StaticBanner","makeStyles","createMuiTheme","ThemeProvider","CircularProgress","Box","Tooltip","theme","palette","primary","main","secondary","useStyles","root","flexGrow","alignItems","justifyContent","flexDirection","backgroundColor","minHeight","paper","padding","spacing","margin","maxWidth","width","borderRadius","boxShadow","avatarLarge","height","buttonWrapper","position","button","overflow","circularProgress","top","left","transform","uvProgress","display","marginLeft","uvProgressLabel","buttonGroup","marginTop","characterContainer","statLabel","fontWeight","marginRight","uvIndex","marginBottom","uvValue","status","response","Promise","resolve","reject","Error","statusText","json","stayInRange","stat","getCharacter","eventType","eventGraphic","disasterPet","foodPet","mischiefPet","sickPet","tricksPet","exercisePet","welcomePet","App","name","setName","dayDuration","setDayDuration","age","setAge","sunburn","setSunburn","boredom","setBoredom","outdoor","setOutdoor","sunscreen","setSunscreen","money","setMoney","hat","setHat","uv","setUv","sunscreenDuration","setSunscreenDuration","gameEnd","setGameEnd","dialogOpen","setDialogOpen","timeoutRef","eventTimeoutRef","classes","petName","dayDurationInSeconds","outdoorRef","sunscreenRef","uvRef","uvChangeProgress","setUvChangeProgress","beginLife","timeOutInfo","petDay","current","prevAge","newAge","daysUntilUvChange","Math","floor","random","prevDuration","prevSunburn","prevBoredom","goInside","goOutside","applySunscreen","prevMoney","doChores","resetGame","handleDialogClose","handleOpenBanner","text","eventTypeGraphic","show","icon","iconProps","src","className","open","label","cleanup","cancel","undefined","decodeURIComponent","Number","isNaN","parseInt","inputedDuration","uvChangeInterval","setInterval","clearInterval","getCharacterImage","sunburnKid","outsideKid","indoorsKid","color"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef, useCallback} from 'react';\nimport disasterPet from '../assets/character/disaster-pet.svg';\nimport exercisePet from '../assets/character/exercise-pet.svg';\nimport foodPet from '../assets/character/food-pet.svg';\nimport mischiefPet from '../assets/character/mischief-pet.svg';\nimport sickPet from '../assets/character/sick-pet.svg';\nimport tricksPet from '../assets/character/tricks-pet.svg';\nimport welcomePet from '../assets/character/welcome-pet.svg';\nimport outsideKid from '../assets/character/outside.svg';\nimport sunburnKid from '../assets/character/sunburnt.svg';\nimport indoorsKid from '../assets/character/inside.svg';\nimport {useParams} from 'react-router-dom';\nimport {accurateInterval} from '../utils/helpers.js';\nimport Copyright from '../components/Copyright';\nimport Character from '../components/Character';\nimport LinearProgressWithLabel from '../components/LinearProgressWithLabel';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { StaticBanner } from 'material-ui-banner';\nimport { makeStyles, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#FF9800', // Orange\n    },\n    secondary: {\n      main: '#009688', // Teal\n    },\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    backgroundColor: '#ff9800',\n    minHeight: '100vh',\n  },\n  paper: {\n    padding: theme.spacing(3),\n    margin: '2rem auto',\n    maxWidth: '800px',\n    width: '90%',\n    backgroundColor: '#f2f4f5', // Updated this line\n    borderRadius: '12px',\n    boxShadow: '0 3px 10px rgba(0,0,0,0.1)',\n  },\n  avatarLarge: {\n  \twidth: 72,\n    height: 72,\n  },\n  buttonWrapper: {\n    position: 'relative',\n    // display: 'inline-flex',\n    // alignItems: 'center',\n  },\n  button: {\n    position: 'relative',\n    overflow: 'hidden', // Ensure child elements don't overflow\n  },\n  circularProgress: {\n    position: 'absolute',\n    top: '30%',\n    left: '45%',\n    transform: 'translate(-50%, -50%)',\n    // color: 'yell', // Optional: Change color if needed\n  },\n  uvProgress: {\n    position: 'relative',\n    display: 'inline-flex',\n    marginLeft: theme.spacing(1),\n  },\n  uvProgressLabel: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n  },\n  buttonGroup: {\n    marginTop: theme.spacing(2),\n  },\n  button: {\n    margin: theme.spacing(1),\n  },\n  characterContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n  },\n  statLabel: {\n    fontWeight: 'bold',\n    marginRight: theme.spacing(1),\n  },\n  uvIndex: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: theme.spacing(1),\n  },\n  uvValue: {\n    fontWeight: 'bold',\n    marginLeft: theme.spacing(1),\n  },\n}));\n\n//Helper functions\n \n function status(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return Promise.resolve(response)\n  } else if (response.status === 429){\n    return Promise.resolve(response)\n  }else {\n    return Promise.reject(new Error(response.statusText))\n  }\n }\n\n function json(response) {\n  return response.json()\n }\n\n const stayInRange = (stat) => {\n  \tif (stat >= 0 && stat <= 100)\n\t    return stat;\n\t else if (stat > 100)\n\t    return 100;\n\telse\n\t    return 0;\n  }\n\nconst getCharacter = (eventType) => {\n  \n  let eventGraphic;\n\n  switch(eventType) {\n\tcase 'Natural Disaster':\n\t\teventGraphic = disasterPet;\n\t\tbreak;\n\tcase 'Food':\n\t\teventGraphic = foodPet;\n\t\tbreak;\n\tcase 'Mischief':\n\t\teventGraphic = mischiefPet;\n\t\tbreak;\n\tcase 'Disease':\n\t\teventGraphic = sickPet;\n\t\tbreak;\n\tcase 'Tricks':\n\t\teventGraphic = tricksPet;\n\t\tbreak;\n\tcase 'Exercise':\n\t\teventGraphic = exercisePet;\n\t\tbreak;\n\tdefault:\n\t\teventGraphic = welcomePet;\n\t}\n\n\treturn eventGraphic;\n}\n\n\nexport default function App() {\n\nconst [name, setName] = useState('Pippin');\nconst [dayDuration, setDayDuration] = useState(1000); //in miliseconds\nconst [age, setAge] = useState(0);\n\n\n\n// const [health, setHealth] = useState(100);\n// const [hunger, setHunger] = useState(0);\n// const [happiness, setHappiness] = useState(100);\n\nconst [sunburn, setSunburn] = useState(0);\nconst [boredom, setBoredom] = useState(0);\nconst [outdoor, setOutdoor] = useState(true);\nconst [sunscreen, setSunscreen] = useState(false);\nconst [money, setMoney] = useState(0);\nconst [hat, setHat] = useState(false);\nconst [uv, setUv] = useState(5);\nconst [sunscreenDuration, setSunscreenDuration] = useState(0);\n\nconst [gameEnd, setGameEnd] = useState(false);\nconst [dialogOpen, setDialogOpen] = useState(false);\nconst timeoutRef = useRef();\nconst eventTimeoutRef = useRef();\nconst classes = useStyles();\nconst {petName, dayDurationInSeconds} = useParams();\n\nconst outdoorRef = useRef(outdoor);\nconst sunscreenRef = useRef(sunscreen);\nconst uvRef = useRef(uv);\nconst [uvChangeProgress, setUvChangeProgress] = useState(0);\n\n\n\n\n const beginLife = () => {\n    let timeOutInfo = accurateInterval(() => {\n          petDay();\n        }, dayDuration) \n    timeoutRef.current = timeOutInfo;\n    //console.log(timeoutRef.current)\n }\n\n//   const handleNextEvent = (nextEvent) => {\n//   \t/*timeoutRef.current is null when starting a new game. \n//   \tThis condition also keeps the app from fetching when the game has ended\n//   \t*/\n//   \tif (timeoutRef.current !== null) {\n// \t  \tlet nextEventInfo = accurateInterval(() => {\n// \t          getNextEvent();\n// \t        }, nextEvent)\n// \t    eventTimeoutRef.current = nextEventInfo;\n//     \t//console.log(eventTimeoutRef.current);\n//     }\n//   }\n\n//   const getNextEvent = () => {\n  \t\n// \t\tfetch('https://www.virtual-pet.uk/v1/event')\n// \t\t\t.then(status)\n// \t\t\t.then(json)\n// \t\t\t.then(function(data) {\n// \t\t\t    if(data.type === 'Error'){\n// \t\t\t    \t console.log('Request failed', data);\n// \t\t\t    \t if (eventTimeoutRef.current) {\n// \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n// \t\t\t\t\t\t    eventTimeoutRef.current = null;\n// \t\t\t\t\t\t }\n// \t\t\t    \t handleNextEvent(data.nextEvent * dayDuration);\n// \t\t\t    } else {\n// \t\t\t    \tconsole.log('Request succeeded with JSON response', data);\n// \t\t\t\t    setHealth((prev) => stayInRange(prev + data.impact.health));\n// \t\t\t\t\tsetHunger((prev) => stayInRange(prev + data.impact.hunger));\n// \t\t\t\t\tsetHappiness((prev) => stayInRange(prev + data.impact.happiness));\n// \t\t\t\t\thandleOpenBanner(data.type.toUpperCase() + \"! \" + data.title + \": \" + data.description + \" Impact, health: \" + data.impact.health + \" hunger: \" + data.impact.hunger + \" happiness: \" + data.impact.happiness, getCharacter(data.type));\n// \t\t\t\t\tif (eventTimeoutRef.current) {\n// \t\t\t\t\t\t    eventTimeoutRef.current.cancel();\n// \t\t\t\t\t\t    eventTimeoutRef.current = null;\n// \t\t\t\t\t\t }\n// \t\t\t\t\thandleNextEvent(data.nextEvent * dayDuration); \n// \t\t\t\t}\t\t\t    \t\n\n// \t\t\t }).catch(function(error) {\n// \t\t\t    console.log('Request failed', error);\n// \t\t\t });\n\t\t  \t\n//   }\n\n const petDay = () => {\n\tsetAge((prevAge) => {\n\t  const newAge = prevAge + 1;\n\t  const daysUntilUvChange = (5 - (newAge % 5)) % 5;\n\t  if (daysUntilUvChange === 0) {\n\t\tsetUv(Math.floor(Math.random() * 14) + 1);\n\t  }\n\t  setUvChangeProgress(((5 - daysUntilUvChange) / 5) * 100);\n\t  return newAge;\n\t});\n  \n\tif (outdoorRef.current) {\n\t  if (sunscreenRef.current) {\n\t\tsetSunscreenDuration((prevDuration) => {\n\t\t  if (prevDuration > 0) {\n\t\t\treturn prevDuration - 1;\n\t\t  } else {\n\t\t\tsetSunscreen(false);\n\t\t\treturn 0;\n\t\t  }\n\t\t});\n\t\tsetSunburn((prevSunburn) => stayInRange(prevSunburn + (uvRef.current / 2)));\n\t  } else {\n\t\tsetSunburn((prevSunburn) => stayInRange(prevSunburn + uvRef.current));\n\t  }\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom - 5));\n\t} else {\n\t  setSunburn((prevSunburn) => stayInRange(prevSunburn - 10));\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom + 5));\n\t}\n  };\n\n//   const cleanPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHealth((prev) => stayInRange(prev + 1));\n// \t}\n// }\n\n// const feedPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHunger((prev) => stayInRange(prev - 1));\n// \t}\n// }\n\n// const playPet = () => {\n// \tif (!gameEnd) {\n// \t\tsetHappiness((prev) => stayInRange(prev + (Math.floor(Math.random() * 5) + 1))); // random reduction between 1 -> 5)\n// \t}\n// }\n\n  const goInside = () => {\n\tif (!gameEnd) {\n\t\tsetOutdoor(false);\n\t\tsetSunscreen(false);\n\t\tsetSunscreenDuration(0);\n\t}\n  }\n\n  const goOutside = () => {\n\tif (!gameEnd) {\n\t\tsetOutdoor(true);\n\t}\n  }\n\n  const applySunscreen = () => {\n\tif (!gameEnd) {\n\t\tif (money >= 5) {\n\t\t\tsetMoney((prevMoney) => prevMoney - 5);\n\t\t\tsetSunscreen(true);\n\t\t\tsetSunscreenDuration(5);\n\n\t}\n  }}\n\n  const doChores = () => {\n\tif (!gameEnd) {\n\t  setMoney((prevMoney) => prevMoney + 1);\n\t  setBoredom((prevBoredom) => stayInRange(prevBoredom + 10));\n\t}\n  };\n\n\n  const resetGame = () => {  \t  \t\n  \tsetAge(0);\n\tsetSunburn(0);\n\tsetBoredom(0);\n\tsetSunscreen(false);\n\tsetGameEnd(false);\n\tsetMoney(0);\n  }\n\n  //helper functions\n  const handleDialogClose = () => {\n    setDialogOpen(false);\n  };\n\n  const handleOpenBanner = useCallback((text, eventTypeGraphic) => StaticBanner.show({\n  \t\ticon: <div />,\n  \t\ticonProps : {\n  \t\t\tsrc: eventTypeGraphic,\n  \t\t\tclassName:  classes.avatarLarge\n  \t\t},\n\t    open:  true,\n\t    label: text,\n   }), [classes.avatarLarge]);\n\n  const cleanup = () => {\n     //Cancel timers\n\t\tif (timeoutRef.current) {\n\t      timeoutRef.current.cancel();\n\t      \n\t    }\n\t    if (eventTimeoutRef.current) {\n\t\t  eventTimeoutRef.current.cancel();\n\t\t}\n\n\t\ttimeoutRef.current = null;\n\t\teventTimeoutRef.current = null;\n   }\n  \n  //Effects\n\n\n  useEffect(() => {\n\toutdoorRef.current = outdoor;\n  }, [outdoor]);\n  \n  useEffect(() => {\n\tsunscreenRef.current = sunscreen;\n  }, [sunscreen]);\n  \n  useEffect(() => {\n\tuvRef.current = uv;\n  }, [uv]);\n\n  useEffect(() => {\n   if (sunburn == 100 || boredom == 100) {   \t \n   \t setDialogOpen(true);\n\t setGameEnd(true);\n   }\n  }, [sunburn, boredom]);\n\n  useEffect(() => {\n    if (!gameEnd) {\n      // Set pet name if provided\n      if (petName !== undefined) {\n        setName(decodeURIComponent(petName));\n      }\n\n      // Set day duration\n      if (dayDurationInSeconds !== undefined && !Number.isNaN(parseInt(dayDurationInSeconds))) {\n        let inputedDuration = parseInt(dayDurationInSeconds);\n        if (inputedDuration <= 0) {\n          setDayDuration(1000);\n        } else if (inputedDuration > 60) {\n          setDayDuration(60 * 1000);\n        } else {\n          setDayDuration(inputedDuration * 1000);\n        }\n      } else {\n        setDayDuration(1000);\n      }\n\n      // Initialize game state\n      setSunburn(0);\n      setBoredom(0);\n      setOutdoor(true);\n      setSunscreen(false);\n      setSunscreenDuration(0);\n      setUv(5); // Starting UV index\n\n      // Start the game loop\n      beginLife();\n\n      // Schedule the first UV change\n      const uvChangeInterval = setInterval(() => {\n        setUv(Math.floor(Math.random() * 14) + 1);\n      }, 5 * dayDuration);\n\n      // Cleanup function\n      return () => {\n        cleanup();\n        clearInterval(uvChangeInterval);\n      };\n    } else {\n      cleanup();\n    }\n  }, [gameEnd, petName, dayDurationInSeconds, dayDuration]);\n\n  const daysUntilUvChange = (5 - (age % 5)) % 5;\n\n  const getCharacterImage = () => {\n    if (outdoor) {\n      if (sunburn > 50) {\n        return sunburnKid;\n      }\n      return outsideKid;\n    }\n    return indoorsKid;\n  };\n\n\n  return (\n    <ThemeProvider theme={theme}>\n      <React.Fragment>\n        <CssBaseline />\n        <StaticBanner />\n        <Grid container component=\"main\" className={classes.root}>\n          <Paper className={classes.paper}>\n            <Grid container spacing={3}>\n              <Grid item xs={12} md={6}>\n                <Typography variant=\"h3\" gutterBottom>\n                  {name}\n                </Typography>\n                <Typography variant=\"h6\" gutterBottom>\n                  Age: {age}\n                </Typography>\n                <div className={classes.uvIndex}>\n                  <Typography variant=\"body1\">Today's UV Index:</Typography>\n                  <Typography\n                    variant=\"body1\"\n                    className={classes.uvValue}\n                    style={{ color: uv > 10 ? 'red' : uv > 5 ? 'orange' : 'green' }}\n                  >\n                    {uv}\n                  </Typography>\n                  <Box position=\"relative\" display=\"inline-flex\" marginLeft={1}>\n                    <CircularProgress variant=\"determinate\" value={uvChangeProgress} size={24} />\n                    <Box\n                      top={0}\n                      left={0}\n                      bottom={0}\n                      right={0}\n                      position=\"absolute\"\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                    >\n                      <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n                        {daysUntilUvChange}\n                      </Typography>\n                    </Box>\n                  </Box>\n                </div>\n                <Typography variant=\"body1\" gutterBottom>\n                  Coins: {money}\n                </Typography>\n                <Typography variant=\"body1\" gutterBottom>\n                  You are currently {outdoor ? \"outdoors\" : \"indoors\"}\n                </Typography>\n                <Typography variant=\"body1\" className={classes.statLabel}>\n                  Sunburn:\n                </Typography>\n                <LinearProgressWithLabel value={sunburn} />\n                <Typography variant=\"body1\" className={classes.statLabel}>\n                  Boredom:\n                </Typography>\n                <LinearProgressWithLabel value={boredom} />\n                \n                <ButtonGroup color=\"primary\" variant=\"contained\" className={classes.buttonGroup}>\n                  <Button\n                    disabled={gameEnd}\n                    onClick={outdoor ? goInside : goOutside}\n                    className={classes.button}\n                  >\n                    {outdoor ? 'Go Inside' : 'Play Outside'}\n                  </Button>\n                  {outdoor && (\n                    <Tooltip title={`Spend 5 coins to reduce sunburn for 5 days`} arrow>\n                      <span>\n                        <Button\n                          disabled={gameEnd || sunscreenDuration > 0 || money < 5}\n                          onClick={applySunscreen}\n                          className={classes.button}\n                        >\n                          Apply Sunscreen\n                          {sunscreenDuration > 0 && (\n                            <CircularProgress\n                              variant=\"static\"\n                              value={(sunscreenDuration / 5) * 100}\n                              size={24}\n                              className={classes.circularProgress}\n                            />\n                          )}\n                        </Button>\n                      </span>\n                    </Tooltip>\n                  )}\n                  {!outdoor && (\n                    <Button\n                      disabled={gameEnd}\n                      onClick={doChores}\n                      className={classes.button}\n                    >\n                      Do Chores\n                    </Button>\n                  )}\n                </ButtonGroup>\n                <Button\n                  onClick={resetGame}\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  className={classes.button}\n                >\n                  {gameEnd ? \"Play again!\" : \"Reset Game\"}\n                </Button>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <div className={classes.characterContainer}>\n                  <Character\n                    name={name}\n                    age={age}\n                    image={getCharacterImage()}\n                    sunburn={sunburn}\n                    boredom={boredom}\n                    outdoors={outdoor}\n\t\t\t\t\tsunscreen={sunscreen}\n                  />\n                </div>\n              </Grid>\n            </Grid>\n          </Paper>\n          <Copyright />\n        </Grid>\n        {gameEnd && \n          <Dialog\n            open={dialogOpen}\n            onClose={handleDialogClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">Game Over.</DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-description\">\n                Great job! Let's play again!\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleDialogClose} color=\"primary\">\n                Close\n              </Button>\n              <Button onClick={resetGame} color=\"primary\" autoFocus>\n                Start Over!\n              </Button>\n            </DialogActions>\n          </Dialog>\n        }\n      </React.Fragment>\n    </ThemeProvider>\n  )\n}"]},"metadata":{},"sourceType":"module"}